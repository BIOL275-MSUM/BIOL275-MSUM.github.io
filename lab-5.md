# Lab 5: Data import

## Objectives

In this lab, you will learn to:

-   Import datasets in various formats into R, including:
    -   CSV files with `read_csv()`
    -   Excel files with `read_excel()`
    -   Google Sheets with `read_sheet()`
-   Deal with common data import issues including:
    -   column names
    -   column types
    -   missing values
-   Enter data in R with `tibble()` and `tribble()`

## Overview

A brief overview of the steps for this lab:

1.  Complete the steps in [Getting Started] below
2.  Read Chapters 7 and 20 from R for Data Science (2e)
3.  Read the *entire* [Assignment] section before beginning, then complete the requested assignment
4.  [Submit](#submission) your assignment

## Getting Started {data-link="Getting Started"}

Your instructor has created a blank repository for you using GitHub Classroom.

1.  Go to the course D2L page

2.  Navigate to the module for this lab

3.  Follow the link to claim your GitHub Classroom repository. After claiming your repository, copy its URL

4.  Clone the repository to your machine:

    1.  In RStudio, create a New Project

    2.  Select the Version Control option, then GitHub

    3.  Paste the URL you copied, and press tab to autocomplete the directory name

    4.  Select a parent directory in which to place your new project folder, probably either `~` or `~/R`.

    5.  Click OK.

5.  Once RStudio has started, double-check your [Project Options](project-options.html) as described in Lab 2. (set the options to not save .RData or .Rhistory files, and not auto-load them on startup)

6.  Make your first commit:

    1.  In the Git tab, check the box next to the `*.Rproj` file to stage it for adding them the repository

    2.  Click the "Commit" button

    3.  Enter a commit message such as "Create a new RStudio project"

    4.  Click Commit to submit the commit

    5.  Click Push to push the commit to GitHub

        1.  If RStudio prompts you for credentials, follow the method you learned in Lab 2 (use your GitHub username and a Personal Access Token for the password)

7.  Create a new R script. This is what you will use to develop the code for your assignment

## Assignment

### Read the Muskox CSV

1.  Get the data
    a.  Go to [Data.gov](https://catalog.data.gov/dataset), a comprehensive online platform managed by the U.S. government, offering access to a vast array of datasets generated by federal agencies. It serves as a centralized hub for users to discover, access, and utilize open data for research, analysis, and innovation purposes.

    b.  Search for "muskox"

    c.  Open the resource titled "Northeast muskox population sex and age composition summary for all areas (26A+B and 26C (Arctic NWR) in Alaska and northern Yukon), 1972-2011"

    d.  Download the file **1972_2011_sex_age_composition_dwc.csv** to the project folder for Lab 5

        You will know it is saved in the correct folder when you can see it in the Files tab in RStudio (bottom right pane)
2.  Read the file into R
    1.  Open your R script
    2.  Load the tidyverse package, which will load the readr package for you
    3.  Use the `read_csv()` function to read the data file
    4.  Have R treat values of -999 in the organismQuantity column as missing values (NAs)
3.  Print the muskox dataset in the console

## Submission {#submission}

1.  When you have completed the questions listed above, save your files, commit your changes, and push them to GitHub.

2.  Next, you will create a **lab report**:

    a.  Create a new Quarto Document by going to File \> New File \> Quarto Document...

    b.  In the dialog window, click the "Create Empty Document" button

    c.  Save the document as `lab-report.qmd`

    d.  Replace the YAML header with the YAML header from your Lab 3 script (find it on GitHub, copy it, and paste it here). Edit the title so it says the name of this lab. Be sure the format is github flavored markdown with `format: gfm`

    e.  Make sure you are in the Visual Mode for the next steps. Click the "Visual" button on the left of the tool bar near the save button.

    f.  Add a code chunk after the YAML; in it, load the **tidyverse**, **readxl**, and **googlesheets4** packages

    g.  Create three level 2 headings (two hash tags followed by a space and the heading name), like this:

        
        ```r
        ## Read the Muskox CSV
        
        ## Question 2
        
        ## Question 3
        ```

    h.  After each heading, create a code chunk and copy and paste your (already working) code from your R script to the report, one output per question. Each question should produce a table output.

    i.  Render your document

3.  Again, save your files, commit your changes, and push them to GitHub.

4.  Copy the URL to your `lab-report.md` file (not qmd) on GitHub.

5.  Submit that to the Assignment on D2L.
